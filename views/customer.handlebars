<!-- CARDS  -  should be generated by javascript reading the manager database -->
<div class="card">
    {{!-- <img id="profileimg" src="https://upload.wikimedia.org/wikipedia/commons/4/41/Profile_portrait_of_man_with_mustache_and_goatee.jpg"
        alt="Avatar"> --}}
    <div class="container_fd">
        <h4><b>Welcome! Please complete your profile</b></h4>
        <p> </p>
        <form id="customerProfileForm" class="form">
            <div>
                <label for="fname"><b>First Name</b></label>
                <input type="text" placeholder="Enter First Name" name="fname" id="firstName" required>

                <label for="lname"><b>Last Name</b></label>
                <input type="text" placeholder="Enter Last Name" name="lname" id="lastName" required>

                <label for="phoneNum"><b>Phone Number</b></label>
                <input type="text" placeholder="+19997776666" name="phoneNum" id="phone" required>

                {{!-- <label for="email"><b>Email (Username)</b></label>
                <input type="email" placeholder="adam@adamfrontdesk.com" name="email" id="email-input" required> --}}

                <label for="add1"><b>Address Line 1</b></label>
                <input type="text" placeholder="Address Line 1" name="add1" id="address_1" required>

                <label for="add2"><b>Address Line 2</b></label>
                <input type="text" placeholder="Address Line 2" name="add2" id="address_2" required>

                <label for="city"><b>City</b></label>
                <input type="text" placeholder="City" name="city" id="city" required>

                <label for="state"><b>State Code</b></label>
                <input type="text" placeholder="IL" name="state" id="state" required>

                <label for="zip"><b>ZIP</b></label>
                <input type="text" placeholder="556677" name="zip" id="zip" required>

                <label for="CCI"><b>Credit Card Info</b></label>
                <input type="text" placeholder="0000 1111 1111 3333" name="CCI" id="credit_card" required>

                <label for="CCE"><b>Credit Card Expiration</b></label>
                <input type="text" placeholder="00/21" name="CCE" id="expiration" required>

                <label for="CVC"><b>Credit Card CVC</b></label>
                <input type="text" placeholder="123" name="CVC" id="cvc" required>

                <label for="comment"><b>Comments</b></label>
                <input type="text" placeholder="any comments" name="comment" id="comment">
                <button type="submit" id="completeProfileBtn">Submit</button>
            </div>
        </form>

        {{!-- <h1 id="#registerMsg"> THANK YOU FOR REGISTERING. PLEASE GO TO LOG IN PAGE & LOG IN.</h1> --}}
        <br><br><br><br>

    </div>
</div>

<div id="ex1" class="modal modal-style">
    <div id="allStylists">
        {{#each stylists}}
        {{!-- <li data-id="{{this.id}}" class="list-group-item">
            <a href="example/{{this.id}}">{{this.text}}</a>
            <button class="btn btn-danger float-right delete">ï½˜</button>
        </li> --}}
        {{/each}}

        <p> POPULATE ALL THE STYLISTS HERE & AVAILABILITY</p>
    </div>
    <div id="allServices">
        <p> POPULATE ALL THE SERVICES AND COST</p>
    </div>
</div>

<div class="footer">
    <a href="#ex1" rel="modal:open"><button class="btn" id="viewServiceBtn"> Services</button></a>;
    <a href="#ex1" rel="modal:open"><button class="btn" id="viewStylistBtn">Stylists</button></a>;
    <a> <button class="btn" id="customerLogoutBtn" href="/logout">Log-out</button></a>;
</div>

</body>
<script>
    $(document).ready(function () {
        //$("#registerMsg").hide();
        $("#viewServiceBtn").click(function () {
            $("#allStylists").hide();
            $("#allServices").show();
        });

        $("#viewStylistBtn").click(function () {
            $("#allServices").hide();
            $("#allStylists").show();
        });



        var $firstName = $("#firstName");
        var $lastName = $("#lastName");
        var $phone = $("#phone");
        //var $email = $("#email");
        var $password = $("#password");
        var $address_1 = $("#address_1");
        var $address_2 = $("#address_2");
        var $city = $("#city");
        var $state = $("#state");
        var $zip = $("#zip");
        var $credit_card = $("#credit_card");
        var $expiration = $("#expiration");
        var $cvc = $("#cvc");
        var $comment = $("#comment");
        var customerProfileForm = $("#customerProfileForm");

        $(customerProfileForm).on("submit", handleFormSubmit);
        //$("#completeProfileBtn").click(function () {
           //window.location.href = "/api/customerComplete"; 
        //});

        function handleFormSubmit(event) {
            event.preventDefault();
            //$("#registerMsg").show();
            var newCustomer = {
                firstName: $firstName.val().trim(),
                lastName: $lastName.val().trim(),
                address_1: $address_1.val().trim(),
                address_2: $address_2.val().trim(),
                city: $city.val().trim(),
                state: $state.val().trim(),
                zip: $zip.val().trim(),
                phone: $phone.val().trim(),
                //email: $email.val().trim(),
                // password: $password.val().trim(),
                credit_card: $credit_card.val().trim(),
                expiration: $expiration.val().trim(),
                cvc: $cvc.val().trim(),
                comment: $comment.val().trim()
            };

            //console.log(customerProfileForm);
            //console.log(newCustomer);

            submitPost(newCustomer);

            function submitPost(Post) {
                $.post("/api/customers/", Post, function (result) {
                    console.log(result, "this is the result from registration.");
                    //alert("You are registered! Please go to Customer Log in!");

                    console.log('ABOUT TO DO SECOND AJAX!!!!')
                    window.location.href = "/api/customerComplete/"+result.id; 
                    
                     //$.get("/api/customerComplete/"+result.id, function(res){
                       // console.log("/api/customerComplete/"+result.id);
                        //console.log(res);
                     //});

                });
            }
        }
    });


</script>